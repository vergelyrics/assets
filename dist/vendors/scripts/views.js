!function(){const e="7214744216558602507",t="https://vergelyrics-default-rtdb.firebaseio.com/",i=5e3,s=(e,t,i=!0,s=null)=>{if(document.getElementById(t))return s&&s();const a=document.createElement("script");a.id=t,a.async=i,a.src=e,s&&(a.onload=s),a.onerror=()=>console.error(`Failed to load ${e}`),document.head.appendChild(a)},a=e=>Number(e).toLocaleString("en-US"),r={initializeFirebase:()=>{try{const e={databaseURL:t};firebase.apps.length||firebase.initializeApp(e)}catch(e){console.error("Firebase initialization error:",e)}},loadViews:()=>{const t=document.querySelectorAll(".compV");if(!t.length)return;const s=firebase.database();t.forEach((t=>{try{const r=t.getAttribute("data-id");if(!r)throw new Error("Missing data-id attribute");t.innerHTML='<span class="fs12 views">Lyrics views</span><span class="fwb" id="viewsLook">0</span>';const o=t.querySelector("#viewsLook"),n=s.ref(`BlogID_${e}/PostID_${r}`);n.once("value").then((e=>{const s=e.exists()?e.val():0,r=a(s);o.textContent=r,s>i&&t.classList.add("trending");const c=s+1;n.set(c),o.textContent=a(c)})).catch((e=>{console.error(`Firebase read error for ${r}:`,e),t.classList.add("hidden")}))}catch(e){console.error("View update error:",e),t.classList.add("hidden")}}))},initialize:()=>{s("https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js","fb-app",!0,(()=>{s("https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js","fb-db",!0,(()=>{try{r.initializeFirebase(),r.loadViews()}catch(e){console.error("Initialization error:",e),document.querySelectorAll(".compV").forEach((e=>e.classList.add("hidden")))}}))}))}};r.initialize()}();
