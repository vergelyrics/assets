!function(){const t="search-ai",e=document.getElementById(t);e&&e.remove();const r=document.createElement("style");r.id=t,r.textContent=".vlSearch{background-color:var(--box-block);width:100%;height:100%;min-height:100vh;position:relative}.searchContainer{overflow-y:auto;padding:32px 0 60px;height:calc(100vh - 127px)}.searchContainer .srchPrompt{position:absolute;width:100%;left:0;bottom:0;padding:16px 0;background-color:var(--box-block)}.searchContainer :where(.srchH,.srchSug,.message,.promptW){position:relative;margin:0 auto;width:100%;padding:0 20px;max-width:990px}.searchContainer .srchH{margin-top:3vh;font-weight:700}.srchH .srchH2{width:fit-content;font-size:3rem;background:linear-gradient(to right,#1d7efd,#8f6fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.srchH .srchH3{font-size:2.6rem;margin-top:-5px;color:var(--text-sec-color)}.searchContainer .srchSug{width:100%;list-style:none;display:flex;margin-top:9.5vh;overflow-x:auto;scroll-snap-type:x mandatory;scrollbar-width:none;padding:0}.searchContainer .srchSugItm{cursor:pointer;padding:18px;width:228px;flex-shrink:0;display:flex;scroll-snap-align:center;flex-direction:column;align-items:flex-end;border-radius:12px;justify-content:space-between;background:var(--light-color);transition:0.3s ease;margin:0 10px}.srchPrompt :where(.promptW,.promptF,.promptA){display:flex;gap:12px;height:56px;align-items:center}.srchPrompt .promptF{height:100%;width:100%;border-radius:130px;background:var(--light-color)}.promptF .promptInP{width:100%;height:100%;background:none;outline:none;border:none;font-size:1rem;color:var(--text-color);padding-left:24px}.promptW button{width:56px;height:100%;flex-shrink:0;cursor:pointer;border-radius:50%;font-size:1.4rem;border:none;color:var(--text-color);background:var(--light-color);transition:0.3s ease}.promptW .srchStopBtn{background-color:var(--compC)}.promptW .srchStopBtn svg{transform:rotate(0)}.promptW .srchSendBtn{background-color:var(--box-block-icon)}.promptF .promptA{gap:5px;margin-right:7px}.promptW .promptF :where(button,img){position:relative;height:45px;width:45px}.srchSug .srchSugItm .text{font-size:1.1rem}.srchSug .srchSugItm .icon{width:45px;height:45px;display:flex;font-size:1.4rem;margin-top:35px;align-self:flex-end;align-items:center;border-radius:50%;justify-content:center;color:#f44336;background:var(--box-block)}.srchSug .srchSugItm:nth-child(2) .icon{color:#28a745}.srchSug .srchSugItm:nth-child(3) .icon{color:#ffc107}.srchSug .srchSugItm:nth-child(4) .icon{color:#6f42c1}.srchPrompt .disclaimerTxt{font-size:0.9rem;text-align:center;padding:16px 20px 0;color:var(--text-sec-color)}.vlSearch.chats-active .searchContainer :where(.srchH,.srchSug){display:none}.chats-container{display:flex;gap:20px;flex-direction:column;padding:16px 20px}.chats-container .message{display:flex;gap:11px;align-items:center}.chats-container .bot-message{margin:9px auto;align-items:flex-start}.chats-container .message .avatar{display:flex;justify-content:center;align-items:center;width:43px;height:43px;flex-shrink:0;align-self:flex-start;border-radius:50%;padding:6px;margin-right:-7px;background:var(--light-color);border:1px solid var(--scrollBa)}.chats-container .message .message-text{padding:3px 16px;word-wrap:break-word;white-space:pre-line}.chats-container .user-message{flex-direction:column;align-items:flex-end}.chats-container .user-message .message-text{padding:12px 16px;max-width:75%;background-color:var(--light-color);border-radius:13px 13px 3px 13px}.chats-container .avatar .vlAI{stroke:var(--primary-color);width:28px;height:28px}.sourceInfo{font-size:0.95rem;margin-top:8px;padding:10px;border-radius:8px;background:rgba(0,0,0,0.03);max-width:86%}.srchDel{border-radius:50%;width:44px;height:44px}.metaLyrics .LYTxt{margin-bottom:5px}.metaLyrics .LYGap{margin:1rem 0}.metaLyrics .LYGap svg{width:18px;height:18px}.btnRS{cursor:pointer;padding:0 16px;position:relative;box-sizing:border-box;font-size:14px;height:36px;line-height:36px;border-radius:18px;background-color:rgba(255,255,255,0.1);white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.songArt{background-color:rgba(var(--text-color-rgb),.1);border-radius:var(--panel-gap);padding:16px}.sourceView{background-color:var(--light-color);padding:.5rem 1rem;border-radius:4px;display:inline-block}.message-return{width:100%}.songArt.lrc{background-color:var(--light-color)}.sgRl{padding:calc(var(--panel-gap) * 2);border:1px solid rgba(var(--text-color-rgb),.2);border-radius:var(--panel-gap);cursor:pointer}.message-return{opacity:0;transform:translateY(10px) scale(.995);animation:vlFadeUp 380ms cubic-bezier(.2,.9,.2,1) forwards}.message-return > *{opacity:0;transform:translateY(8px);animation:vlFadeUpChild 420ms cubic-bezier(.2,.9,.2,1) forwards;animation-delay:70ms}.message-return .songsList{transform-origin:center top;opacity:0;transform:translateY(8px) scale(.995);animation:vlFadeUpChild 420ms cubic-bezier(.2,.9,.2,1) forwards;animation-delay:120ms}.user-message{animation:vlUserIn 260ms cubic-bezier(.2,.9,.2,1) forwards;opacity:0;transform:translateY(6px)}@keyframes vlUserIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes vlUserIn{from{opacity:0;-webkit-transform:translateY(6px);transform:translateY(6px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes vlFadeUp{from{opacity:0;transform:translateY(10px) scale(.995)}to{opacity:1;transform:translateY(0) scale(1)}}@-webkit-keyframes vlFadeUp{from{opacity:0;-webkit-transform:translateY(10px) scale(.995);transform:translateY(10px) scale(.995)}to{opacity:1;-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1)}}@keyframes vlFadeUpChild{from{opacity:0;transform:translateY(8px) scale(.998)}to{opacity:1;transform:translateY(0) scale(1)}}@-webkit-keyframes vlFadeUpChild{from{opacity:0;-webkit-transform:translateY(8px) scale(.998);transform:translateY(8px) scale(.998)}to{opacity:1;-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1)}}.srchStopBtn{display:inline-flex;align-items:center;justify-content:center}.vlHidden,.sourceDB{display:none}@media (max-width:980px){.searchContainer{padding:20px 0 100px}.srchH :is(.srchH2,.srchH3){font-size:2rem;line-height:1.4}.srchH .srchH3{font-size:1.7rem}.searchContainer .chats-container{gap:15px}.chats-container .bot-message{margin:4px auto}.srchPrompt :where(.promptW,.promptF,.promptA){gap:8px;height:53px}.srchPrompt button{width:53px}.promptF :is(button,img){height:42px;width:42px}.promptF .promptInP{padding-left:20px}.chats-container .message{padding:0}.promptF .promptA{margin-right:5px}.searchContainer .srchPrompt{position:fixed;padding-bottom:5rem}}",document.head.appendChild(r);const s=t=>document.querySelector(t);function a(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function n(t=""){return String(t).replace(/[&<>"']/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])))}function i(t=""){const e=document.createElement("div");return e.innerHTML=t||"",e.textContent||e.innerText||""}function o(t){return t&&String(t).toLowerCase().match(/\w+/g)||[]}function c(t){return o(t).join(" ")}const l=s(".vlSearch");if(!l)return void console.warn("vlAISearch: .vlSearch element not found on page.");l.innerHTML='<div class="searchContainer" role="region" aria-label="Lyrics Search"><div class="srchH"><h2 class="elp1 srchH2">Hello, there</h2><h3 class="elp1 srchH3">Looking for song lyrics?</h3></div><ul class="srchSug" role="list"><li class="srchSugItm" data-q="Top trending song lyrics right now"><p class="text">Top trending song lyrics right now</p><span class="icon trnd" aria-hidden="true"><svg class="px-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 384 512"><path d="M373.1 280.1l-255.1 223.1C111.1 509.3 103.5 512 96 512c-6.593 0-13.19-2.016-18.81-6.109c-12.09-8.781-16.5-24.76-10.59-38.5L143.5 288L32.01 288c-13.34 0-25.28-8.266-29.97-20.75c-4.687-12.47-1.125-26.55 8.906-35.33l255.1-223.1c11.25-9.89 27.81-10.58 39.87-1.799c12.09 8.781 16.5 24.76 10.59 38.5l-76.88 179.4l111.5-.0076c13.34 0 25.28 8.266 29.97 20.75C386.6 257.2 383.1 271.3 373.1 280.1z"></path></svg></span></li><li class="srchSugItm" data-q="Who is the top artist this week?"><p class="text">Who is the top artist this week?</p><span class="icon artst" aria-hidden="true"><svg class="px-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 16 16"><path d="M11.757 2.987A4.36 4.36 0 0 0 7.618 0a4.36 4.36 0 0 0-4.139 2.987 5.5 5.5 0 0 0-.22 1.894 5.6 5.6 0 0 0 1.4 3.312l.125.152a.748.748 0 0 1-.2 1.128l-2.209 1.275A4.75 4.75 0 0 0 0 14.857v1.142h8.734A5.5 5.5 0 0 1 8.15 14.5H1.517a3.25 3.25 0 0 1 1.6-2.454l2.21-1.275a2.25 2.25 0 0 0 .6-3.386l-.128-.153a4.1 4.1 0 0 1-1.05-2.44A4 4 0 0 1 4.89 3.47a2.8 2.8 0 0 1 1.555-1.713 2.89 2.89 0 0 1 3.293.691c.265.296.466.644.589 1.022.12.43.169.876.144 1.322a4.12 4.12 0 0 1-1.052 2.44l-.127.153a2.24 2.24 0 0 0-.2 2.58c.338-.45.742-.845 1.2-1.173 0-.162.055-.32.156-.447l.126-.152a5.6 5.6 0 0 0 1.4-3.312 5.5 5.5 0 0 0-.218-1.894zm3.493 3.771a.75.75 0 0 0-.75.75v3.496h-1a2.5 2.5 0 0 0-2.31 1.542 2.497 2.497 0 0 0 1.822 3.406A2.502 2.502 0 0 0 16 13.502V7.508a.75.75 0 0 0-.75-.75m-.75 6.744a.998.998 0 0 1-1.707.707 1 1 0 0 1 .707-1.706h1z"></path></svg></span></li><li class="srchSugItm" data-q="Just added latest song lyrics."><p class="text">Just added latest song lyrics.</p><span class="icon justAdded" aria-hidden="true"><svg class="px-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 16 16"><path d="M15 14.5H5V13h10zm0-5.75H5v-1.5h10zM15 3H5V1.5h10zM3 3H1V1.5h2zm0 11.5H1V13h2zm0-5.75H1v-1.5h2z"></path></svg></span></li><li class="srchSugItm" data-q="How can I request song lyrics?"><p class="text">How can I request song lyrics?</p><span class="icon rqSL" aria-hidden="true"><svg class="px-16" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 16 16"><path d="M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8"></path><path d="M11.75 8a.75.75 0 0 1-.75.75H8.75V11a.75.75 0 0 1-1.5 0V8.75H5a.75.75 0 0 1 0-1.5h2.25V5a.75.75 0 0 1 1.5 0v2.25H11a.75.75 0 0 1 .75.75"></path></svg></span></li></ul><div class="chats-container" aria-live="polite" role="log"></div><div class="srchPrompt" aria-hidden="false"><div class="promptW"><form class="promptF" onsubmit="return false;"><input type="text" aria-label="Search..." placeholder="Search..." class="promptInP" id="searchAI" required /><div class="promptA"><button id="sendPB" disabled="true" class="f ai-c jc-c srchSendBtn" aria-label="Send Query" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 20 20"><path d="M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"></path></svg></button><button id="stopPB" class="f ai-c jc-c srchStopBtn vlHidden" aria-label="Stop Query" type="button"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24" width="20" height="20"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"/></svg></button></div></form><button id="deleteC" class="f ai-c jc-c srchDel" aria-label="Clear Search" type="button" title="Clear"><svg class="line" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24" width="20" height="20"><path d="M21 5.97998C17.67 5.64998 14.32 5.47998 10.98 5.47998C9 5.47998 7.02 5.57998 5.04 5.77998L3 5.97998"></path><path d="M8.5 4.97L8.72 3.66C8.88 2.71 9 2 10.69 2H13.31C15 2 15.13 2.75 15.28 3.67L15.5 4.97"></path><path d="M18.85 9.14001L18.2 19.21C18.09 20.78 18 22 15.21 22H8.79002C6.00002 22 5.91002 20.78 5.80002 19.21L5.15002 9.14001"></path><path d="M10.33 16.5H13.66"></path><path d="M9.5 12.5H14.5"></path></svg></button></div><p class="disclaimerTxt">VergeLyrics Search V3.0 can make mistakes, so double-check it.</p></div></div>';const d=s("#sendPB"),p=s("#stopPB"),h=s("#deleteC"),u=s(".promptInP"),g=s(".chats-container"),m=s(".searchContainer");function f(){const t=u&&String(u.value||"").trim().length>0;d&&(d.disabled=!t,d.setAttribute("aria-disabled",(!t).toString()))}u&&(f(),u.addEventListener("input",f),u.addEventListener("paste",(()=>{setTimeout(f,0)})));let v=!1,y=!1;const b=new Map,x=new Set,w=18;let S=null,L=null;async function $(){if(L)return L;try{const t="https://raw.githubusercontent.com/vergelyrics/artists-db/refs/heads/main/artists-database.json",e=await fetch(t,{method:"GET"});if(e.ok)return L=await e.json(),L}catch(t){}return L=[],L}const C="vl_search_blogger_cache_v1",A=new Map;async function k(t){if(!t)return null;const e=String(t).trim().toLowerCase();if(A.has(e))try{const t=A.get(e);return Array.isArray(t)?t.slice():t}catch(t){}const r=`/feeds/posts/default?max-results=99&q=${encodeURIComponent(t)}&alt=json`;try{const t=new AbortController;S=t;const s=await fetch(r,{method:"GET",signal:t.signal});if(S=null,!s.ok)return null;const a=await s.text();let n=null;try{n=JSON.parse(a)}catch(t){const e=a.match(/{[\s\S]*}/);if(e)try{n=JSON.parse(e[0])}catch(t){n=null}}if(!n)return null;let i=null;if(i=n.feed&&Array.isArray(n.feed.entry)&&n.feed.entry.length?n.feed.entry:Array.isArray(n.items)&&n.items.length?n.items:null,i&&Array.isArray(i))try{A.set(e,i),function(){try{const t={};A.forEach(((e,r)=>{t[r]=e})),sessionStorage.setItem(C,JSON.stringify(t))}catch(t){}}()}catch(t){}return i}catch(t){return t&&t.name,null}finally{S&&S.signal&&S.signal.aborted&&(S=null)}}function T(t){const e=document.createElement("div");return e.innerHTML=String(t||""),e}function H(t,e){if(I(t),!t)return;try{t.textContent=""}catch(t){}let r=0;const s=setInterval((()=>{if(y)I(t);else if(document.body.contains(t)){r++;try{t.textContent=e.slice(0,r)}catch(t){}r>=e.length&&I(t)}else I(t)}),w);b.set(t,{timerId:s,fullText:e}),l.classList.add("bot-writing");try{d.classList.add("vlHidden"),p.classList.remove("vlHidden")}catch(t){}}function I(t){const e=b.get(t);if(e){try{clearInterval(e.timerId)}catch(t){}b.delete(t)}if(t&&e)try{t.textContent=e.fullText}catch(t){}}function E(){b.forEach(((t,e)=>{try{clearInterval(t.timerId)}catch(t){}try{e&&(e.textContent=t.fullText)}catch(t){}})),b.clear(),x.forEach((t=>{try{clearTimeout(t)}catch(t){}})),x.clear()}function q(t,e){const r=b.get(t);if(r){try{clearInterval(r.timerId)}catch(t){}b.delete(t)}t&&(t.textContent=e)}function N(){l.classList.remove("bot-writing");try{p.classList.add("vlHidden"),d.classList.remove("vlHidden")}catch(t){}try{f()}catch(t){}}function B(t){const e={};try{const r=t.querySelector(".tableVL table");if(!r)return e;r.querySelectorAll("tr").forEach((t=>{const r=t.querySelectorAll("td");if(r.length>=2){const t=r[0].textContent.trim(),s=r[1].innerHTML?r[1].innerHTML.trim():r[1].textContent.trim();e[t]=s}}))}catch(t){}return e}function R(t){try{const r=new Date(t);if(isNaN(r.getTime()))try{return String(t).slice(0,16)}catch(l){return String(t||"")}const s=new Date;let a=Math.floor((s-r)/1e3);function e(t,e){return 1===t?`${t} ${e} ago`:`${t} ${e}s ago`}if(a<60)return e(a,"second");const n=Math.floor(a/60);if(n<60)return e(n,"minute");const i=Math.floor(a/3600);if(i<24)return e(i,"hour");const o=Math.floor(a/86400);if(o<30)return e(o,"day");const c=Math.floor(o/30);if(c<12)return e(c,"month");return e(Math.floor(o/365),"year")}catch(d){return t}}function M({id:t="",rankLabel:e="",title:r="",artist:s="",thumb:a="",url:o="",variant:c="trending",addedTime:l=""}){const d=e?`<p class="aboutAuto"><span class="${"trending"===c?"trndP":"artist"===c?"trndA":"recTime"}">${n(e)}</span></p>`:"",p=l?`<p class="aboutAuto"><span class="recTime">${n(l)}</span></p>`:d,h="recent"===c?" mgt-1":"";return`<div class="songsList ${n(c)}${h}" data-post-id="${n(t)}">${p}<div class="f ai-c gap-14 mgt-1 songArt" data-post-id="${n(t)}"><div class="metaMedia"><div class="ar-1 w-70 h-70 br4 of-h metaImg"><img class="igLB" alt="${n(r||"cover")}" src="${n(a||"")}" loading="lazy" width="100%"/></div></div><div class="metaInfo"><h3 class="elp1 sngNm">${n(r)}</h3><h4 class="elp1 sngArts">${n(i(s))}</h4></div></div><div class="mgt-1 sourceView"><a href="${n(o||"#")}">View Lyrics</a></div></div>`}async function z(t){const e=`https://lrclib.net/api/search?q=${encodeURIComponent(t)}`;try{const t=new AbortController;S=t;const r=await fetch(e,{method:"GET",signal:t.signal});if(S=null,!r.ok)return null;const s=await r.json();return Array.isArray(s)&&s.length?s:null}catch(t){return t&&t.name,null}finally{S&&S.signal&&S.signal.aborted&&(S=null)}}function Y(t){try{const e=t.querySelector(".aboutSongVL p");if(!e)return null;return["Telugu","Hindi","Tamil","Punjabi","Odia","Malayalam","Kannada","Assamese","Bengali","Korean","Khortha","Bhojpuri","Marathi","Haryanvi","Garhwali","Nepali","Chhattisgarhi","Spanish","Nagpuri","English"].find((t=>e.innerHTML.includes(t)))||null}catch(t){return null}}function j(t,e){const r=t.id||"",s=t.name||t.trackName||"",a=t.artistName||t.artist||"",i=(t.plainLyrics||""||"").split(/\r?\n/);let o="",c=0;for(let t=0;t<i.length;t++){const e=i[t];if(!e||""===e.trim()){o+='<p class="LYGap vlHidden"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c1.1 0-2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></svg></p>';continue}c++;o+=`<p class="LYTxt" data-lyrics-line="${c}"><span class="lrclibLyrics" data-full="${n(e.replace(/^\[[^\]]+\]\s*/,""))}"></span></p>`}o+='<p class="LYGap vlHidden"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24" width="18" height="18"><path d="m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></svg></p>';const l=`${s} song was performed by ${a}`,d=(e||[]).filter((t=>t&&t.plainLyrics&&String(t.plainLyrics).trim())).map((t=>({title:t.name||t.trackName||"",artist:t.artistName||t.artist||"",pid:t.id||""}))).map((t=>`<li class="mgt-22 sgRl" data-post-id="${n(t.pid)}"><div class="f fdc"><span class="lrcTitle">${n(t.title)}</span><span class="lrcArtist">${n(t.artist)}</span></div></li>`)).join(""),p=d?`<div class="mgt-1 relatedLrc vlHidden"><h2 class="elp1 mgt-22 btnRS ta-c fwb lrcHead">Related or Suggested</h2><div class="rlcC"><ul>${d}</ul></div></div>`:"";return`<div class="songsList" data-post-id="${n(r)}"><p class="aboutAuto">${n(l)}</p><div class="f ai-c gap-14 mgt-1 songArt lrc"><div class="metaLyrics">${o}</div></div>${p}</div>`}function D(t){if(!t)return;t.querySelectorAll(".rlcC ul li.sgRl").forEach((t=>{t._bound||(t._bound=!0,t.addEventListener("click",(()=>{if(t._recentClick)return;t._recentClick=!0,setTimeout((()=>{t._recentClick=!1}),600);const e=t.querySelector(".lrcTitle")?.textContent?.trim(),r=t.dataset.postId||t.getAttribute("data-post-id")||"";if(r&&r.trim())return U(e||`#${r}`),void async function(t,e={}){if(!t)return;if(y)return;try{const r=`https://lrclib.net/api/get/${encodeURIComponent(t)}`,s=new AbortController;S=s;const a=await fetch(r,{method:"GET",signal:s.signal});if(S=null,!a.ok){e.suppressUserMessage||U(`#${t}`);return q(F("Error fetching lyrics (bad response)"),"Error fetching lyrics (bad response)"),void N()}const i=await a.json(),o=(i.name||i.trackName||"").trim(),c=(i.artistName||i.artist||"").trim();e.suppressUserMessage||U(o||`#${t}`);const l=F("Fetching lyrics...");if(!i||0===Object.keys(i).length)return q(l,"No lyrics found for this ID."),void N();if(y)return q(l,"Stopped"),void N();const d=i.plainLyrics||"";if(!d.trim()){return V(l,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(o||"ID "+String(t))}</p><div class="sourceDB"><span class="if fwb btnRS">LrcLib</span></div><div class="songsList" data-post-id="${n(String(t))}"><p class="aboutAuto">${n(o?`${o} song was performed by ${c}`:"Plain lyrics not available for this entry.")}</p><div class="f ai-c gap-14 mgt-1 songArt"><div class="metaLyrics"><p class="LYGap">Plain lyrics not available for this entry.</p></div></div></div></div>`),void N()}const p=d.split(/\r?\n/);let h="",u=0;for(let t=0;t<p.length;t++){const e=p[t];if(!e||""===e.trim()){h+='<p class="LYGap vlHidden"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24" width="18" height="18"><path d="m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c1.1 0-2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></svg></p>';continue}u++;h+=`<p class="LYTxt" data-lyrics-line="${u}"><span class="lrclibLyrics" data-full="${n(e.replace(/^\[[^\]]+\]\s*/,""))}"></span></p>`}h+='<p class="LYGap vlHidden"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="m12 3 .01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"></path></svg></p>';const g=o?`${o} song was performed by ${c}`:`${c}`,m=`<div class="songsList" data-post-id="${n(String(t))}"><p class="aboutAuto">${n(g)}</p><div class="f ai-c gap-14 mgt-1 songArt lrc"><div class="metaLyrics">${h}</div></div></div>`;V(l,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(o||"ID "+String(t))}</p><div class="sourceDB"><span class="if fwb btnRS">LrcLib</span></div>${m}</div>`),_(l.parentElement,(()=>{N()}))}catch(t){if(console.error("performLrcById error",t),t&&"AbortError"===t.name){return q(F("Stopped"),"Stopped"),void N()}q(F("Error fetching lyrics (network or parse error)"),"Error fetching lyrics (network or parse error)"),N()}}(r.trim(),{suppressUserMessage:!0});e&&(U(e),J(e,{suppressUserMessage:!0}))})))}))}function _(t,e){if(!t){try{N()}catch(t){}return void(e&&e())}const r=Array.from(t.querySelectorAll(".relatedLrc"));r.forEach((t=>t.classList.add("vlHidden")));const s=t.querySelectorAll(".metaLyrics");let a=s.length;if(!a){r.forEach((t=>t.classList.remove("vlHidden")));try{N()}catch(t){}return void(e&&e())}let n=0;s.forEach((t=>{const s=Array.from(t.querySelectorAll(".LYTxt")),i=Array.from(t.querySelectorAll(".LYGap"));i.forEach((t=>t.classList.add("vlHidden")));let o=0;function c(t){let e=t.nextElementSibling;for(;e;){if(e.classList&&e.classList.contains("LYGap")){e.classList.remove("vlHidden");break}if(e.classList&&e.classList.contains("LYTxt"))break;e=e.nextElementSibling}}if(!s.length){if(i.forEach((t=>t.classList.remove("vlHidden"))),n++,n>=a){r.forEach((t=>t.classList.remove("vlHidden")));try{N()}catch(t){}e&&e()}return}const l=setTimeout((function t(){if(y){if(n++,n>=a){r.forEach((t=>t.classList.remove("vlHidden")));try{N()}catch(t){}e&&e()}return}if(o>=s.length){if(i.forEach((t=>t.classList.remove("vlHidden"))),n++,n>=a){r.forEach((t=>t.classList.remove("vlHidden")));try{N()}catch(t){}e&&e()}return}const l=s[o],d=l.querySelector(".lrclibLyrics"),p=d&&(d.getAttribute("data-full")||d.textContent)||"";if(d&&p){d.textContent="",H(d,p);const e=Math.max(120,p.length*w+40),r=setTimeout((()=>{c(l),x.delete(r),o++,setTimeout(t,80)}),e);x.add(r)}else{c(l),o++;const e=setTimeout(t,40);x.add(e)}}),120);x.add(l)}))}function V(t,e){try{I(t)}catch(t){}E();const r=t.parentElement;if(!r)return;const s=r.querySelector(".avatar");r.innerHTML="",s&&r.appendChild(s);const n=a(e.trim());r.appendChild(n);try{_(r,(()=>{})),D(r)}catch(t){}}function U(t){const e=g.lastElementChild,r=e&&e.classList.contains("user-message")?e.querySelector(".message-text")?.textContent?.trim():null;if(r&&String(r).trim()===String(t).trim()){try{m&&m.scrollTo({top:m.scrollHeight,behavior:"smooth"})}catch(t){}return}const s=a(`<div class="message user-message"><p class="message-text">${n(t)}</p></div>`);g.appendChild(s);try{m&&m.scrollTo({top:m.scrollHeight,behavior:"smooth"})}catch(t){}}function F(t){const e=a('<div class="message bot-message"><div class="avatar"><svg class="vlAI" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><g><line x1="3" x2="3" y1="12" y2="12"></line><line x1="6" x2="6" y1="10" y2="14"></line><line x1="9" x2="9" y1="8" y2="16"></line><line x1="12" x2="12" y1="4" y2="20"></line><line x1="15" x2="15" y1="9" y2="15"></line><line x1="18" x2="18" y1="7" y2="17"></line><line x1="21" x2="21" y1="11" y2="13"></line></g></svg></div><p class="message-text"></p></div>');g.appendChild(e);const r=e.querySelector(".message-text");return H(r,String(t||"")),r}function P(){y=!0,v=!1;try{S&&"function"==typeof S.abort&&S.abort()}catch(t){}S=null,E(),N()}function W(){const t=u.value;if(t&&t.trim()){v&&P(),y=!1,l.classList.add("chats-active"),U(t.trim()),J(t.trim(),{}),u.value="",f();try{u.focus()}catch(t){}}}var G;async function Q(t,e){if(!t)return;v&&P(),y=!1,v=!0,l.classList.add("chats-active");const r=F(`Fetching songs for ${t}...`);try{const s=t,a=await k(s);if(!a||!a.length)return q(r,`No posts found for ${t}`),N(),void(v=!1);const c=[],l=new Set;for(let e=0;e<a.length;e++){const r=a[e];try{const e=T(r.content?.$t||""),s=B(e),a=["Singer","Writer","Composer","Cast","Video Director","Artist"];let n=null;for(const e of a){if(!s[e])continue;const r=i(s[e]||"");if(!r)continue;const a=o(t),c=o(r);if(a.every((t=>c.includes(t)))){n=e;break}}if(!n)continue;const d=r.id&&r.id.$t?String(r.id.$t).split(".post-")[1]||"":r.id||"";if(!d)continue;if(l.has(d))continue;l.add(d);const p=i(s.Song||e.querySelector(".smallHead h2")?.textContent?.trim()||r.title&&r.title.$t||""),h=i(s.Singer||s.Artist||""),u=r.media$thumbnail&&r.media$thumbnail.url?r.media$thumbnail.url:e.querySelector(".firstImage img")?.getAttribute("src")||"",g=Array.isArray(r.link)?r.link.find((t=>"alternate"===t.rel))?.href||"#":r.link?.href||"#",m=r.published&&r.published.$t?r.published.$t:r.published||"";c.push({postId:d,postTitle:p,singer:h,img:u,url:g,published:m,matchedField:n})}catch(t){continue}}if(!c.length)return q(r,`No posts found for ${t}`),N(),void(v=!1);const d=e||c[0].matchedField||"Artist",p={Singer:`${t} is a Singer. Check out the lyrics of ${t} below.`,Writer:`Recently added song lyrics written by ${t}`,Composer:`Recently added song lyrics composed by ${t}`,Cast:`Recently added song lyrics starring ${t}`,"Video Director":`Recently added song lyrics directed by ${t}`,Artist:`Recently added song lyrics related to ${t}`}[d]||`Check out lyrics related to ${t}`,h=await $();let u=null;h&&Array.isArray(h)&&(u=h.find((e=>String(e.person_name||"").toLowerCase()===t.toLowerCase()))||h.find((e=>String(e.person_name||"").toLowerCase().includes(t.toLowerCase()))));const m=u&&u.person_image?u.person_image:"https://cdn.statically.io/gh/vergelyrics/assets/refs/heads/main/dist/vendors/images/default/default-500x500.jpg",f=u&&u.person_data?u.person_data:d,y=c.slice(0,6).map((t=>M({id:t.postId,title:t.postTitle,artist:i(t.singer||""),thumb:t.img,url:t.url,variant:"recent",addedTime:R(t.published)}))),b=`<div class="f ai-c gap-16 pd-16 rawCon" data-artist-name="${n(t)}" data-artist-role="${n(f)}"><div class="br50 of-h wm64 cLL"><img class="contImg igLB" src="${n(m)}" alt="${n(t)}" loading="lazy" width="100%" /></div><div class="cLR"><h3 class="fwb elp1">${n(t)}</h3><span class="elp1 fs12 labelN">${n(f)}</span></div></div>`;V(r,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(t)}</p><div class="sourceDB"><span class="if fwb btnRS">${n(f)}</span></div><div class="songsList artist"><p class="aboutAuto"><span class="ftchA">${n(p)}</span></p><div class="mgt-1 mgb-1 ftchArtist"><div class="f fw contList artistRT">${b}</div></div><p class="aboutAuto"><span class="ftchA">Recently added song lyrics ${"Singer"===f?"performed by":"Writer"===f?"written by":"Composer"===f?"composed by":"Cast"===f?"starring":"related to"} ${n(t)}</span></p>${y.join("")}</div></div>`);const x=g.lastElementChild;x&&x.querySelectorAll(".rawCon").forEach((t=>{t.addEventListener("click",(()=>{const e=i(t.querySelector(".cLR h3")?.textContent||t.dataset.artistName||""),r=t.querySelector(".labelN")?.textContent||t.dataset.artistRole||"";e&&(U(`${e} ${r}`),Q(e,r))}))}))}catch(e){console.error("performArtistByName error",e),q(r,`Error fetching posts for ${t}`)}finally{N(),v=!1}}async function J(t,e={}){if(!t)return;v=!0,y=!1;const r=String(t).trim();l.classList.add("chats-active"),e.suppressUserMessage||U(r);const s=F("Searching Database...");try{const p=await k(r);if(y)return q(s,"Stopped"),N(),void(v=!1);if(p&&p.length){const h=["Singer","Writer","Composer","Cast","Video Director","Artist"],u=new Map,m=(new Set,[]),f=[];for(let L=0;L<p.length;L++){const C=p[L];try{const A=T(C.content?.$t||""),H=B(A),I=Y(A);I&&(H._detectedLang=I);for(const G of h){if(!H[G])continue;const J=i(H[G]||"").split(",").map((t=>t.trim())).filter(Boolean);for(const O of J){const K=O.toLowerCase();if(K&&K.includes(r.toLowerCase())){const Z=u.get(O)||new Set;Z.add(G),u.set(O,Z)}}}const E=i(H.Song||H.Title||""),R=C.media$thumbnail&&C.media$thumbnail.url?C.media$thumbnail.url:null,M=A.querySelector(".firstImage img"),P=R||(M?M.src:""),W=Array.isArray(C.link)?C.link.find((t=>"alternate"===t.rel))?.href||"#":C.link?.href||"#";E&&E.toLowerCase()===r.toLowerCase()?m.push({entry:C,meta:H,imgSrc:P,postUrl:W}):f.push({entry:C,meta:H,imgSrc:P,postUrl:W})}catch(X){continue}}if(u.size>0){const tt=Array.from(u.keys()),et=new Set;u.forEach((t=>{t.forEach((t=>et.add(t)))}));const rt=Array.from(et).join(", ");if(1===tt.length){const it=tt[0],ot=u.get(it)||new Set,ct=Array.from(ot)[0]||"Artist";return U(it),Q(it,ct),void(v=!1)}const st=await $(),at=tt.map((t=>{const e=u.get(t)||new Set,r=Array.from(e)[0]||"Artist";let s=null;st&&Array.isArray(st)&&(s=st.find((e=>String(e.person_name||"").toLowerCase()===t.toLowerCase()))||st.find((e=>String(e.person_name||"").toLowerCase().includes(t.toLowerCase()))));const a=s&&s.person_image?s.person_image:"https://cdn.statically.io/gh/vergelyrics/assets/refs/heads/main/dist/vendors/images/default/default-500x500.jpg";return`<div class="f ai-c gap-16 pd-16 rawCon" data-artist-name="${n(t)}" data-artist-role="${n(r)}"><div class="br50 of-h wm64 cLL"><img class="contImg igLB" src="${n(a)}" alt="${n(t)}" loading="lazy" width="100%" /></div><div class="cLR"><h3 class="fwb elp1">${n(t)}</h3><span class="elp1 fs12 labelN">${n(r)}</span></div></div>`})).join("");V(s,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(r)}</p><div class="sourceDB"><span class="if fwb btnRS">${n(rt)}</span></div><div class="songsList artist"><p class="aboutAuto"><span class="ftchA">Choose whom to continue?</span></p><div class="mgt-1 mgb-1 ftchArtist"><div class="f fw contList artistRT">${at}</div></div></div></div>`);const nt=g.lastElementChild;return nt&&nt.querySelectorAll(".rawCon").forEach((t=>{t.addEventListener("click",(()=>{const e=i(t.querySelector(".cLR h3")?.textContent||t.dataset.artistName||""),r=t.querySelector(".labelN")?.textContent||t.dataset.artistRole||"";e&&(U(`${e} ${r}`),Q(e,r))}))})),v=!1,void N()}const b=m.concat(f),x=new Set,w=[];for(let lt=0;lt<b.length&&w.length<10;lt++){const dt=b[lt],pt=dt.entry.id&&dt.entry.id.$t?String(dt.entry.id.$t).split(".post-")[1]||"":dt.entry.id||"";pt&&x.has(pt)||(pt&&x.add(pt),w.push(dt))}function a(t,e,r,s){const a=t.id&&t.id.$t?String(t.id.$t).split(".post-")[1]||"":t.id||"",o=i(e.Song||e.Title||""),c=i(e.Singer||e.Artist||""),l=i(e.Cast||""),d=e._detectedLang||null,p=d||"Unknown language",h=[];o?h.push(`${o} is a ${p} song`):h.push(`This is a ${p} song`),c&&h.push(`featuring the vocals of ${c}`),l&&h.push(`starring ${l}`);const u=h.join(" and ")+".";return`<div class="songsList" data-post-id="${n(a)}"><p class="aboutAuto">${n(u)}</p><div class="f ai-c gap-14 mgt-1 songArt"><div class="metaMedia"><div class="ar-1 w-70 h-70 br4 of-h metaImg"><img class="igLB" alt="${n(o||"cover")}" src="${n(r||"")}" loading="lazy" width="100%" /></div></div><div class="metaInfo"><h3 class="elp1 sngNm">${n(o)}</h3><h4 class="elp1 sngArts">${n(c)}</h4></div></div><div class="mgt-1 sourceView"><a href="${n(s||"#")}">View Lyrics</a></div></div>`}let S="";for(let ht=0;ht<w.length;ht++){const ut=w[ht];S+=a(ut.entry,ut.meta,ut.imgSrc,ut.postUrl)}if(!S){return V(s,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(r)}</p><div class="sourceDB"><span class="if fwb btnRS">Blogger</span></div><div class="songsList" data-source="none"><p class="aboutAuto">No structured song table found in Blogger entries for this query.</p></div></div>`),v=!1,void N()}return V(s,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(r)}</p><div class="sourceDB"><span class="if fwb btnRS">Blogger</span></div>${S}</div>`),v=!1,void N()}}catch(gt){return console.error("Error parsing Blogger entries",gt),q(s,"Error parsing Blogger result"),N(),void(v=!1)}const d=await z(r);if(y)return q(s,"Stopped"),N(),void(v=!1);if(d&&d.length){try{const mt=o(r),ft=[],vt=[];for(let St=0;St<d.length;St++){const Lt=d[St],$t=String(Lt.name||Lt.trackName||"").trim(),Ct=o($t);mt.every((t=>Ct.includes(t)))?ft.push({entry:Lt,candName:$t}):vt.push({entry:Lt,candName:$t})}const yt=ft.concat(vt).slice(0,10);if(!yt.length)return q(s,"Nothing found..."),N(),void(v=!1);const bt=yt[0].entry,xt=c(yt[0].candName||""),wt=j(bt,yt.slice(1).map((t=>t.entry)).filter((t=>c(t.name||t.trackName||"")!==xt)).filter((t=>t&&t.plainLyrics&&String(t.plainLyrics).trim())).slice(0,8));V(s,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: ${n(r)}</p><div class="sourceDB"><span class="if fwb btnRS">LrcLib</span></div>${wt}</div>`),_(s.parentElement,(()=>{N()})),D(s.parentElement)}catch(At){console.error("Error parsing LrcLib result",At),q(s,"Error parsing LrcLib result"),N()}v=!1}else q(s,"Nothing found, Try by searching Exact Name of the song, Eg. NaaNaa Hyraanaa Shreya Ghoshal"),N(),v=!1}!function(){try{const t=sessionStorage.getItem(C);if(!t)return;const e=JSON.parse(t);e&&"object"==typeof e&&Object.keys(e).forEach((t=>{A.set(String(t).toLowerCase(),e[t])}))}catch(t){}}(),p.addEventListener("click",(t=>{t.preventDefault(),P()})),d.addEventListener("click",(t=>{t.preventDefault(),W()})),u.addEventListener("keydown",(t=>{"Enter"===t.key&&(t.preventDefault(),W())})),h.addEventListener("click",(t=>{g&&(g.innerHTML=""),l.classList.remove("chats-active");const e=s(".searchContainer");e&&(e.scrollTop=0)})),(G=".srchSugItm",Array.from(document.querySelectorAll(G))).forEach((t=>{t.addEventListener("click",(()=>{l.classList.add("chats-active");const e=t.dataset.q&&t.dataset.q.trim();if(!e){const e=t.textContent||"";return u.value=e,f(),void W()}"Top trending song lyrics right now"!==e?"Who is the top artist this week?"!==e?"Just added latest song lyrics."!==e?"How can I request song lyrics?"!==e?(u.value=e,f(),W()):function(){U("How can I request song lyrics?");const t=F("You can request your songs via filing this form, click the button to open lyrics request form!");V(t,'<div class="f fdc gap-20 message-return"><p class="message-text">You can request your songs via filing this form, click the button to open lyrics request form!</p><div class="sourceDB"><span class="if fwb btnRS">Request</span></div><div class="songsList requestBox"><div class="f ai-c gap-14 mgt-1 songArt"><div class="metaInfo"><button title="Request Song" class="reqS" data-button-type="requestSongBox" type="button">Request Now!</button></div></div></div></div>');const e=g.querySelector(".reqS");e&&e.addEventListener("click",(()=>{const t="/p/request-lyrics.html";try{window.open(t,"_blank")}catch(t){console.warn("Could not open form",t)}}));N()}():async function(){U("Just added latest song lyrics.");const t=F("Fetching latest lyrics...");try{const e="/feeds/posts/default?alt=json&max-results=50",r=new AbortController;S=r;const s=await fetch(e,{signal:r.signal});if(S=null,!s.ok)return q(t,"Error fetching recent posts."),void N();const a=await s.text();let n=null;try{n=JSON.parse(a)}catch(t){const e=a.match(/{[\s\S]*}/);e&&(n=JSON.parse(e[0]))}if(!n)return q(t,"No recent posts."),void N();const o=n.feed&&Array.isArray(n.feed.entry)?n.feed.entry:n.items||[],c=[];for(let t=0;t<o.length&&c.length<10;t++){const e=o[t],r=e.content?.$t||e.content||"";if(!/lyricsContainer|lyricsContain/i.test(r))continue;const s=T(r),a=B(s),n=i(a.Song||e.title&&e.title.$t||""),l=i(a.Singer||a.Artist||""),d=e.media$thumbnail&&e.media$thumbnail.url?e.media$thumbnail.url:s.querySelector(".firstImage img")?.getAttribute("src")||"",p=e.link&&Array.isArray(e.link)?e.link.find((t=>"alternate"===t.rel))?.href||"#":e.link?.href||e.url||"#",h=e.id&&e.id.$t?String(e.id.$t).split(".post-")[1]||e.id.$t:e.id||"",u=e.published&&e.published.$t?e.published.$t:e.published||"",g=u?R(u):"";c.push(M({id:h,rankLabel:"",title:n,artist:l,thumb:d,url:p,variant:"recent",addedTime:g}))}if(!c.length)return q(t,"No recent lyrics posts found."),void N();V(t,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: Just added latest song lyrics.</p><div class="sourceDB"><span class="if fwb btnRS">Recent</span></div>${c.join("")}</div>`)}catch(e){if(e&&"AbortError"===e.name)return;console.error(e),q(t,"Error fetching recent posts.")}N()}():async function(){U("Who is the top artist this week?");const t=F("Checking trending artists..."),e=window.TRENDING_DATA||null;if(!e)return q(t,"No trending data available."),void N();try{const r=Object.keys(e).filter((t=>t.toLowerCase().startsWith("top"))).sort();if(!r.length)return q(t,"No trending items found."),void N();const s=e[r[0]],a=T(s.conT||""),o=B(a),c=o.Singer||o.Artist||a.querySelector(".smallHead .snipHome")?.textContent?.trim()||"",l=String(i(c||"")).split(",").map((t=>t.trim())).filter(Boolean),d=await $(),p=l.map((t=>{let e=null;d&&Array.isArray(d)&&(e=d.find((e=>String(e.person_name||"").toLowerCase()===t.toLowerCase()))||d.find((e=>String(e.person_name||"").toLowerCase().includes(t.toLowerCase()))));const r=e&&e.person_image?e.person_image:"https://cdn.statically.io/gh/vergelyrics/assets/refs/heads/main/dist/vendors/images/default/default-500x500.jpg",s=e&&e.person_data?e.person_data:"Not Known",a=n(t||"Unknown"),i=n(r),o=n(s);return`<div class="f ai-c gap-16 pd-16 rawCon" data-artist-name="${n(t)}" data-artist-role="${n(s)}"><div class="br50 of-h wm64 cLL"><img class="contImg igLB" src="${i}" alt="${a}" loading="lazy" width="100%" ></div><div class="cLR"><h3 class="fwb elp1">${a}</h3><span class="elp1 fs12 labelN">${o}</span></div></div>`})).join(""),h=`Currently, the most viral artist tending on VergeLyrics: ${l.join(", ")}`;V(t,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: Who is the top artist this week?</p><div class="sourceDB"><span class="if fwb btnRS">Trending</span></div><div class="songsList artist" data-post-id="${n(s.id||"")}"><p class="aboutAuto"><span class="trndA">${n(h)}</span></p><div class="mgt-1 mgb-1 trndArtist"><div class="f fw contList artistRT">${p||'<div class="f ai-c pd-16"><div class="cLR"><h3 class="elp1">No artist details found</h3></div></div>'}</div></div><div class="f ai-c gap-14 mgt-1 songArt"><div class="metaMedia"><div class="ar-1 w-70 h-70 br4 of-h metaImg"><img class="igLB" alt="${n(s.ttl||"")}" src="${n(s.thm||a.querySelector(".firstImage img")?.getAttribute("src")||"")}" loading="lazy" width="100%" /></div></div><div class="metaInfo"><h3 class="elp1 sngNm">${n(o.Song||s.ttl||"")}</h3><h4 class="elp1 sngArts">${n(i(c||""))}</h4></div></div></div></div>`);const u=g.lastElementChild;u&&u.querySelectorAll(".rawCon").forEach((t=>{t.addEventListener("click",(()=>{const e=i(t.querySelector(".cLR h3")?.textContent||t.dataset.artistName||""),r=t.querySelector(".labelN")?.textContent||t.dataset.artistRole||"";e&&(U(`${e} ${r}`),Q(e,r))}))}))}catch(e){console.error("handleTopArtistClick error",e),q(t,"Error determining top artist")}N()}():async function(){U("Top trending song lyrics right now");const t=F("Building top trending list..."),e=window.TRENDING_DATA||null;if(!e)return q(t,"No trending data available."),void N();try{const r=Object.keys(e).filter((t=>t.toLowerCase().startsWith("top"))).sort(((t,e)=>(parseInt(t.replace(/\D/g,""))||0)-(parseInt(e.replace(/\D/g,""))||0))).slice(0,10),s=[];for(let t=0;t<r.length;t++){const a=r[t],n=e[a];if(!n)continue;const i=T(n.conT||""),o=B(i),c=o.Song||n.ttl||i.querySelector(".smallHead h2")?.textContent?.trim()||"",l=o.Singer||o.Artist||i.querySelector(".smallHead .snipHome")?.textContent?.trim()||"",d=n.thm||i.querySelector(".firstImage img")?.getAttribute("src")||"",p=n.url||"#",h=n.id||"",u=a;s.push(M({id:h,rankLabel:u,title:c,artist:l,thumb:d,url:p,variant:"trending"}))}if(!s.length)return q(t,"No trending items found."),void N();V(t,`<div class="f fdc gap-20 message-return"><p class="message-text">Query Type: Top trending song lyrics right now</p><div class="sourceDB"><span class="if fwb btnRS">Trending</span></div>${s.join("")}</div>`)}catch(e){console.error(e),q(t,"Error building trending list")}N()}()}))}));try{l.vlAISearch={search:t=>J(t),clear:()=>{g.innerHTML="",l.classList.remove("chats-active")},clearBloggerCache:()=>{A.clear();try{sessionStorage.removeItem(C)}catch(t){}}}}catch(t){}!function(){try{const t=new URLSearchParams(window.location.search||""),e=t.get("q")||t.get("Q")||t.get("query");if(e&&String(e).trim()){const r=decodeURIComponent(String(e));U(r),setTimeout((()=>{J(r)}),120),t.delete("q"),t.delete("Q"),t.delete("query");const s=window.location.pathname+(t.toString()?"?"+t.toString():"")+window.location.hash;try{history.replaceState({},document.title,s)}catch(t){}}}catch(t){}}()}();
