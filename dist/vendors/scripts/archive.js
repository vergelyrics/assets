!function(){const t=document.querySelector(".vlSearchArchive");if(!t)return;const e=t.getAttribute("data-label-name")||"Unknown",s=Object.values(window.ARCHIVE_DATA||{}),a=s.length;if(!s||0===s.length)return void(t.innerHTML='<div class="f fdc w100 mh100vh gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No Songs Added Yet!</div></div>');t.setAttribute("data-window-archive",a),t.innerHTML="";const i=`<div class="secIn"><div class="ldI"><h2 class="fwb ldH">${e}</h2><div class="ldP show-if-js" data-archive="${e}" data-num-posts="${a}"><svg class="px-18 line" aria-hidden="true" focusable="false" role="presentation" viewBox="0 0 24 24"><path d="M21 7V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V7C3 4 4.5 2 8 2H16C19.5 2 21 4 21 7Z" stroke-miterlimit="10"></path><path d="M14.5 4.5V6.5C14.5 7.6 15.4 8.5 16.5 8.5H18.5" stroke-miterlimit="10"></path><path d="M8 13H12" stroke-miterlimit="10"></path><path d="M8 17H16" stroke-miterlimit="10"></path></svg></div></div></div>`,n=document.createElement("div");n.className="pgPD blogger-archive items",n.id="archive-lyrics";const d=t=>t.map((t=>{const e=t.thm||"https://cdn.statically.io/gh/vergelyrics/assets/refs/heads/main/dist/vendors/images/default/default-song-500x500.jpg";let s=t.ttl||"Untitled";const a=t.url||"#";let i="";if(t.conT){const e=t.conT.match(/<tr>(.*?)<\/tr>/g)||[];e.forEach((t=>{const e=t.match(/<td>(.*?)<\/td>/g)||[];if(2===e.length){const t=e[0].replace(/<[^>]+>/g,"").trim().toLowerCase(),a=e[1].replace(/<[^>]+>/g,"").trim();"song"===t&&a&&(s=a)}}));const a=new Set;e.forEach((t=>{const e=t.match(/<td>(.*?)<\/td>/g)||[];if(2===e.length){const t=e[0].replace(/<[^>]+>/g,"").trim().toLowerCase(),s=e[1].replace(/<[^>]+>/g,"").trim();"singer"===t&&s.split(",").forEach((t=>{const e=t.trim();e&&!/Chorus/i.test(e)&&a.add(e)}))}})),a.size>0&&(i=Array.from(a).map((t=>`<a href="/search?q=${encodeURIComponent(t)}" class="artistLink">${t}</a>`)).join(", "))}return`<div class="archive-item"><div class="ipst"><div class="ipstI"><img alt="${s}" loading="lazy" src="${e}" width="100%" /></div><div class="ipstBD"><h3 class="elp1 ipstT"><a href="${a}" class="postURL">${s}</a></h3>${i?`<div class="snippet">${i}</div>`:""}</div></div></div>`})).join("");n.innerHTML=d(s);const c=document.createElement("div");c.className="pgPD mgt22 f ai-c jc-c more-load",c.innerHTML=`<button class="ftchMB" data-current-index="${a}" id="fetch-more" type="button">Load More</button>`,t.insertAdjacentHTML("beforeend",i),t.appendChild(n),t.appendChild(c);const r=c.querySelector("#fetch-more");r.addEventListener("click",(function(){const s=parseInt(this.getAttribute("data-current-index"),10);this.disabled=!0,this.textContent="Loading...";const a=e.split(" ");let i="",l="";if(2===a.length){const[t,e]=a,s=new Date(`${t} 1, ${e}`).getMonth()+1,n=t=>t.toString().padStart(2,"0");i=`${e}-${n(s)}-01T00:00:00`,l=`${e}-${n(s)}-31T23:59:59`}else/^\d{4}$/.test(e)&&(i=`${e}-01-01T00:00:00`,l=`${e}-12-31T23:59:59`);fetch(`/feeds/posts/default?alt=json&start-index=${s+1}&max-results=20&published-min=${i}&published-max=${l}`).then((t=>t.json())).then((e=>{const a=e.feed?.entry||[];if(0===a.length)return void(c.innerHTML='<div class="fwb full-loaded">Yay! You have seen it all ðŸ¤©</div>');const i=a.map((t=>{const e={};e.ttl=t.title?.$t||"Untitled",e.url=t.link?.find((t=>"alternate"===t.rel))?.href||"#",e.conT=t.content?.$t||"";const s=t.media$thumbnail?.url||"";return e.thm=s.replace(/s72-c/,"s500-c")||"",e}));n.insertAdjacentHTML("beforeend",d(i));const l=s+i.length;t.setAttribute("data-window-archive",l),t.querySelector(".ldP").setAttribute("data-num-posts",l),a.length<20?c.innerHTML='<div class="fwb full-loaded">Yay! You have seen it all ðŸ¤©</div>':(r.setAttribute("data-current-index",l),r.textContent="Load More",r.disabled=!1)})).catch((()=>{c.innerHTML='<div class="fwb full-loaded">Failed to load more posts ðŸ˜¢</div>'}))}))}();
