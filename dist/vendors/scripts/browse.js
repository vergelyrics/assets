window.browseSongs=function(){const s=document.getElementById("browse-tab"),e=document.querySelector(".ajaxSongs.items"),t=document.querySelector(".ajaxBrowseH"),i=s?s.querySelectorAll(".switchL.txtB"):[];if(!s)return;let l=!1,a=0;const d="https://cdn.statically.io/gh/vergelyrics/assets/refs/heads/main/dist/vendors/images/default/default-song-500x500.jpg";function r(s){const t=++a;window.paceLoader&&window.paceLoader.animate&&window.paceLoader.animate(),fetch(s).then((s=>s.json())).then((s=>{if(a!==t)return;const i=s.feed.entry||[];e.innerHTML="",i.length>0?i.forEach((s=>{const t=s.link.find((s=>"alternate"===s.rel)),i=t?t.href:"#",l=function(s){const e=s.split(".post-");return e.length>1?e[1]:s}(s.id.$t||""),{imageLink:a,songTitle:r,artistName:o}=function(s){const e=(new DOMParser).parseFromString(s.content.$t,"text/html");let t="Song",i="Unknown";const l=e.querySelector(".tableVL table tbody");l&&l.querySelectorAll("tr").forEach((s=>{const e=s.querySelectorAll("td");if(e.length>=2){const s=e[0].textContent.trim().toLowerCase(),l=e[1];if("song"===s)t=l.textContent.trim();else if("singer"===s){const s=Array.from(l.querySelectorAll("a")).map((s=>s.textContent.trim())).filter(Boolean);i=s.join(", ")||l.textContent.trim()}}}));let a=d;return s.media$thumbnail&&s.media$thumbnail.url&&(a=s.media$thumbnail.url.replace(/.*?:\/\//g,"//").replace(/\/[w,s][0-9][0-9].*\//g,"/w500-h500-c-rw/").replace(/=s72-[w,c].*/g,"=s500")),{imageLink:a,songTitle:t,artistName:i}}(s),v=document.createElement("article");v.className="ipst",v.setAttribute("data-mbop","true"),v.innerHTML=function(s,e,t,i,l){return`<div class="ipstI" data-dom-id="${e}"><img alt="${t}" loading="lazy" src="${i}" width="100%" /></div><div class="ipstBD"><h3 class="elp1 ipstT"><a href="${s}" class="linkB">${t}</a></h3><div class="snippet">${l.split(",").map((s=>s.trim())).filter(Boolean).map((s=>`<a class="linkA" href="/search?q=${encodeURIComponent(s)}">${s}</a>`)).join(", ")}</div></div>`}(i,l,r,a,o),e.appendChild(v)})):e.innerHTML='<div class="f fdc gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg viewBox="0 0 24 24" role="presentation"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">No Songs Added Yet!</div></div>'})).catch((()=>{e.innerHTML='<div class="f fdc gap-10 ai-c jc-c noItm"><div class="nItmSvg"><svg viewBox="0 0 24 24" role="presentation"><path d="M15.728 14.443a.91.91 0 0 1-1.286 1.286 3.433 3.433 0 0 0-2.443-1.012c-.923 0-1.79.359-2.443 1.012a.909.909 0 1 1-1.286-1.286 5.237 5.237 0 0 1 3.728-1.544 5.234 5.234 0 0 1 3.73 1.544zm-6.75-3.526c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.222 1.222 0 0 0-.857-.355c-.319 0-.631.13-.857.355-.225.226-.355.539-.355.857s.13.632.355.857c.225.225.538.355.857.355s.632-.129.857-.355zm6.901-2.069c-.319 0-.631.13-.857.355-.226.226-.355.538-.355.857s.129.632.355.857c.226.225.538.355.857.355s.632-.13.857-.355c.226-.225.355-.538.355-.857s-.129-.631-.355-.857a1.224 1.224 0 0 0-.857-.355zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z"></path></svg></div><div class="nItmTxt">Error fetching songs.</div></div>'})).finally((()=>{window.paceLoader&&window.paceLoader.remove&&window.paceLoader.remove()}))}let o=null;function v(){const i=s.querySelector(".switchL.txtB.active");if(i){const s=i.getAttribute("switch-song-label");if(o===s)return;o=s,l=s,t&&(t.innerHTML=l?`New ${l} Songs`:""),e&&(e.innerHTML='<div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div><div class="skel-poster"><div class="skel-poster__image"></div><div class="skel-poster__title"></div><div class="skel-poster__artist"></div></div>'),r(`/feeds/posts/default/-/${s}?alt=json&max-results=20&orderby=published`)}var l}function c(s){if("boolean"==typeof s){if(s===l)return;l=s}else l=!l;l?(window.scrollTo({top:0,behavior:"smooth"}),v()):e&&(e.innerHTML="")}s.dataset.listenerAttached||(s.addEventListener("click",(function(e){const t=e.target.closest(".switchL.txtB");if(t&&s.contains(t)){const s=t.getAttribute("switch-song-label");o!==s&&(o=null),i.forEach((s=>s.classList.remove("active"))),t.classList.add("active"),l&&v()}})),s.dataset.listenerAttached="true"),window.toggleBrowseView=c,c(!0)},window.browseSongs();
